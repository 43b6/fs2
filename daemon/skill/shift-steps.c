// linbo-steps.c

inherit SKILL;

string *dodge_msg = 
({
"$nÕ¹¿ª[1;36m¡®Ç¬À¤´óÅ²ÒÆ¡¯[0m£¬[1m¡¸ÉñÁú¸ºÍ¼³öÂåË®£¬²Ê·ïÏÎÊé±ÌÔÆÀï£®¡±[0m$nµÄÉíĞÎÈç³¤ºç¾­Ìì£¬·ÉÓ¥ÖğÈÕ£¬ ôæÈ»ÓÎ×ßÓÚËÄÃæ°Ë·½¡£\n",
"Ö»¼û$nÊ©Õ¹[1;36m¡®Ç¬À¤´óÅ²ÒÆ¡¯[0m£¬[1m¡¸ÒõÑô¶ş¶İ·ÖË³Äæ£¬×İÆåÊ®ÎåÔÚÆäÖĞ£®¡±[0mÔÚµç¹â»ğÊ¯¼ä£¬$nµÄÉíÓ°Ë²¼äÏûÄäÎŞ×Ù¡£\n",
"$nÌ¤³ö[1;36m¡®Ç¬À¤´óÅ²ÒÆ¡¯[0m£¬[1m¡¸Ö±·ûÇ°ÈıÁùºÏÎ»£¬Ì«ÒõÖ®ÉñÔÚÇ°¶ş£®¡±[0m$n½ÅÌ¤ÒõÑôÎåĞĞ·½Î»£¬Éí·¨¹îÚÜÄª²â¡£\n",
"$nÊ¹³ö[1;36m¡®Ç¬À¤´óÅ²ÒÆ¡¯[0m£¬[1m¡¸·ü±øµ«ÏòÌ«ÒõÎ»£¬ÈôåÌÁùºÏÀûÌÓĞÎ£®¡±[0mÉ²ÄÇ¼ä·çÔÆ±äÉ«£¬ÌìĞıµØ×ª£¬µĞÈËÖ»¸Ğµ½Ê±¿ÕÍêÈ«Å¤Çú£¬ÔÙÒ²ÄÑ±æ$nµÄËùÔÚ¡£\n",
"$nÕ¹ÏÖ[1;36m¡®Ç¬À¤´óÅ²ÒÆ¡¯[0m£¬[1m¡¸µØ¶İÈÕ¾«×ÏÔÆ±Î£¬²ØĞÎ¶İ¼£Ë¹ÎªÃÀ£®¡±[0m»Ã»¯³öÎŞÊı¸öĞéĞéÊµÊµµÄÉíÓ°£¬µĞÈËÍêÈ«ÃÔ»óÄÑÒÔ×½Ãş¡£\n",
"$nĞ±Ì¤[1;36m¡®Ç¬À¤´óÅ²ÒÆ¡¯[0m£¬ºö¸ßºöµÍ£¬ÓĞÈô[1;33m¡¸¿²ÅîĞÇË®ÀëÎª»ğ£¬ÖĞ¹¬À¤ôŞÍÁÎªÓª£®¡±[0mÖ»¼û$n½ÅÌ¤¿²Î»£¬ÔÙ»»Àë»ğ£¬ÔçÒÑÒÆ×ªµ½µĞÈËµÄÉíºóÁË¡£\n",
});

int valid_enable(string usage) 
{
	return (usage=="dodge")||(usage=="move");
}

int valid_learn(object me)
{
        if(me->query_skill("literate",1)*2 <= me->query_skill("shift-steps",1))
        {
          write("ÄãµÄÖªÊ¶²»×ã£¬ÎŞ·¨Ìå»áÇ¬À¤´óÅ²ÒÆÖĞÒ×¾­ÁùÊ®ËÄØÔµÄ¾«Òª±ä»¯¡£\n");
          return 0;
	}
 if(me->query("class") != "prayer")
return notify_fail("Äã·ÇÊ¥»ğÍ½²»ÄÜÑ§Ö®\n");
	return 1;
}

string query_dodge_msg(string limb)
{
	return dodge_msg[random(sizeof(dodge_msg))];
}

int practice_skill(object me)
{
	if((int)me->query("kee")<5)
		return notify_fail("ÄãµÄÆø²»¹»£¬²»ÄÜÁ·Ç¬À¤´óÅ²ÒÆ¡£\n");
	me->receive_wound("kee",5);
	return 1;
}
