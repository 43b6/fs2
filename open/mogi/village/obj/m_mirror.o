// made by ccat
inherit ITEM;
void create()
{
        set_name("照妖镜",({"mirror"}) );
        set_weight(1000);
        if( clonep() )
		set_default_object(__FILE__);
	else {
        set("long","魔界特殊矿物制成的镜子, 可以显示对方的能力.(show ID)");
        set("unit","件");
        set("value", 10000);
        set("material","steel");
	}
}
void init()
{
     add_action("do_show","show");
}
int do_show(string str)
{
  int exp,kee,force;
  object who,me;
  me = this_player(); 
  if(!str || !objectp(who = present( lower_case(str), environment(me) )) )
  {
     write("照妖镜说: 不知道你想要我照谁?请搞清楚再照.\n");
     return 1;
  }
  message_vision("$N拿出照妖镜往$n身上照了照.\n",me,who);
  exp = who->query("combat_exp",1);
  kee = who->query("kee",1);
  force = who->query("force",1);
  printf("照妖镜对你说:\n 主人,此人的\n 经验值为%d,\n 气为%d,\n 内力为%d\n",exp,kee,force);
  return 1;  
}
